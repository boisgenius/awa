# 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品愿景
Claw Academy 是一个为 AI 智能体提供教育和技能的市场平台，让 AI Agent 能够通过学习结构化的提示词和技能模块来提升能力。

### 1.2 目标用户

| 用户类型 | 描述 | 需求 |
|----------|------|------|
| Agent 所有者 | 拥有 OpenClaw Agent 的用户 | 为 Agent 购买技能、提升能力 |
| 技能创作者 | 开发提示词和技能模块的开发者 | 发布和销售技能、获取收益 |
| 观察者 | 对 AI Agent 生态感兴趣的用户 | 浏览、了解 Agent 能力 |

### 1.3 核心价值主张
- **对于 Agent 所有者**: 一站式获取高质量、经过审核的 AI 技能
- **对于创作者**: 公平的收益分配和创作激励机制
- **对于生态**: 推动 AI Agent 能力标准化和可组合性

## 2. 功能需求

### 2.1 首页 (Home)

#### 2.1.1 Hero 区域
**用户故事**: 作为访客，我希望快速了解平台是什么，以便决定是否注册。

**功能要求**:
- [ ] 显示平台标语 "A Learning Academy for AI Agents"
- [ ] 显示副标题和简短描述
- [ ] 提供两个 CTA 按钮：
  - "I'm a Human" - 跳转到市场页面
  - "I'm an Agent" - 显示 Agent 注册流程
- [ ] Agent 注册卡片：
  - 两种方式切换 (clawhub / manual)
  - 代码块显示注册指令
  - 步骤说明

**验收标准**:
```gherkin
Feature: 首页 Hero 区域
  Scenario: 用户访问首页
    Given 用户访问网站首页
    Then 应显示 "A Learning Academy for AI Agents" 标题
    And 应显示两个 CTA 按钮
    And 应显示 Agent 注册卡片

  Scenario: 切换注册方式
    Given 用户在首页
    When 用户点击 "clawhub" 标签
    Then 代码块应显示 clawhub 注册命令
    When 用户点击 "manual" 标签
    Then 代码块应显示手动注册链接
```

#### 2.1.2 侧边栏自动隐藏
**用户故事**: 作为用户，我希望在首页时侧边栏隐藏，专注于主要内容。

**功能要求**:
- [ ] 首页时侧边栏自动隐藏
- [ ] 滚动到 Marketplace 区域时侧边栏自动显示
- [ ] 平滑过渡动画

---

### 2.2 技能市场 (Marketplace)

#### 2.2.1 统计数据栏
**用户故事**: 作为用户，我希望看到平台整体数据，了解市场活跃度。

**功能要求**:
- [ ] 显示以下统计数据：
  - Total Skills (总技能数)
  - Active Agents (活跃 Agent 数)
  - Volume 24H (24小时交易量 SOL)
  - Floor Price (地板价)
  - Verified Creators (认证创作者数)
- [ ] 每个数据显示变化趋势（正/负百分比）
- [ ] 数据实时更新或定期刷新

**验收标准**:
```gherkin
Feature: 统计数据栏
  Scenario: 查看统计数据
    Given 用户在市场页面
    Then 应显示 5 个统计指标
    And 每个指标应显示数值和变化趋势
    And 正向变化应显示绿色
    And 负向变化应显示红色
```

#### 2.2.2 筛选器
**用户故事**: 作为用户，我希望按类别和条件筛选技能，快速找到需要的内容。

**功能要求**:
- [ ] 分类筛选器 Pills：
  - All (显示总数)
  - Research
  - Finance
  - Coding
  - Security
  - Creative
  - Comms
- [ ] 排序下拉框：
  - Trending (默认)
  - Newest
  - Price Low
  - Price High
  - Most Downloads
- [ ] 仅显示已认证开关

**验收标准**:
```gherkin
Feature: 技能筛选
  Scenario: 按分类筛选
    Given 用户在市场页面
    When 用户点击 "Coding" 分类
    Then 应只显示 Coding 类别的技能
    And "Coding" pill 应变为激活状态

  Scenario: 切换排序方式
    Given 用户在市场页面
    When 用户选择 "Price Low" 排序
    Then 技能应按价格从低到高排列
```

#### 2.2.3 技能卡片
**用户故事**: 作为用户，我希望在卡片上看到技能的关键信息，快速评估是否需要。

**功能要求**:
- [ ] 卡片包含以下信息：
  - 技能图标 (emoji + 渐变背景)
  - 技能名称 + 认证徽章
  - 作者名称
  - 描述 (最多 2 行)
  - 状态徽章 (LIVE / IN DEV)
  - 优先级徽章 (HIGH / MEDIUM / EMERGING)
  - 功能标签 (最多 4 个)
  - 评分 + 下载量
  - 价格 (SOL)
- [ ] 收藏按钮（星标）
- [ ] 外部链接按钮
- [ ] Hover 效果：卡片上浮 + 发光边框

**验收标准**:
```gherkin
Feature: 技能卡片
  Scenario: 查看技能卡片
    Given 市场页面加载完成
    Then 每个技能卡片应显示完整信息
    And 已认证技能应显示红色勾选徽章

  Scenario: 收藏技能
    Given 用户已连接钱包
    When 用户点击卡片上的星标按钮
    Then 按钮应变为激活状态（黄色）
    And 技能应添加到用户收藏列表
```

#### 2.2.4 搜索功能
**用户故事**: 作为用户，我希望通过关键词搜索技能。

**功能要求**:
- [ ] 搜索框支持按以下字段搜索：
  - 技能名称
  - 作者名称
  - 描述
  - 功能标签
- [ ] 支持快捷键 ⌘K / Ctrl+K 聚焦搜索框
- [ ] 实时搜索（防抖 300ms）

**验收标准**:
```gherkin
Feature: 搜索功能
  Scenario: 关键词搜索
    Given 用户在市场页面
    When 用户在搜索框输入 "trading"
    Then 应只显示包含 "trading" 的技能

  Scenario: 快捷键聚焦
    Given 用户在市场页面
    When 用户按下 ⌘K
    Then 搜索框应获得焦点
```

#### 2.2.5 加载更多
**用户故事**: 作为用户，我希望分批加载技能，优化页面性能。

**功能要求**:
- [ ] 默认显示 6-12 个技能
- [ ] "Load More" 按钮加载下一批
- [ ] 加载时显示 loading 状态

---

### 2.3 排行榜 (Leaderboard)

#### 2.3.1 时间范围选择
**用户故事**: 作为用户，我希望查看不同时间段的排行数据。

**功能要求**:
- [ ] 时间范围选项：24H / 7D / 30D / All
- [ ] 切换时数据刷新

#### 2.3.2 排行榜表格
**用户故事**: 作为用户，我希望看到技能的详细数据对比。

**功能要求**:
- [ ] 表格列：
  - Rank (#)
  - Skill (图标 + 名称 + 认证徽章)
  - Category
  - Floor Price (SOL)
  - 24H Change (%)
  - 7D Change (%)
  - Volume (SOL)
  - Downloads
- [ ] 支持点击列头排序
- [ ] 正/负百分比颜色区分
- [ ] Hover 行高亮

**验收标准**:
```gherkin
Feature: 排行榜表格
  Scenario: 查看排行榜
    Given 用户在排行榜区域
    Then 应显示 Top 5 技能数据
    And 正向变化应显示绿色
    And 负向变化应显示红色

  Scenario: 切换时间范围
    Given 用户在排行榜区域
    When 用户点击 "7D" 按钮
    Then 表格数据应更新为 7 天数据
```

---

### 2.4 侧边栏 (Sidebar)

#### 2.4.1 导航结构
**用户故事**: 作为用户，我希望通过侧边栏快速导航。

**功能要求**:
- [ ] Browse 区域：
  - Home (带 count)
  - All Skills (带 count)
  - Trending
  - Top Rated
- [ ] Categories 区域：
  - Research / Finance / Coding / Security / Creative
- [ ] My Account 区域：
  - Saved
  - Purchased
  - Settings
- [ ] 激活项左侧显示红色指示条

#### 2.4.2 代币小部件
**用户故事**: 作为用户，我希望在侧边栏查看 $CLAW 代币价格。

**功能要求**:
- [ ] 显示代币信息：
  - 代币名称 + 图标
  - 当前价格
  - 24H 变化百分比
  - 市值 (MCap)
  - 24H 交易量 (Vol)
- [ ] 价格实时更新或定期刷新

---

### 2.5 顶部导航 (Header)

#### 2.5.1 导航标签
**功能要求**:
- [ ] 标签项：Home / Marketplace / Leaderboard / Developers
- [ ] 激活标签下划线

#### 2.5.2 搜索框
**功能要求**:
- [ ] 显示搜索图标
- [ ] 显示快捷键提示 (⌘K)
- [ ] 聚焦时边框变红色

#### 2.5.3 钱包连接
**用户故事**: 作为用户，我希望连接钱包进行购买和收藏操作。

**功能要求**:
- [ ] 未连接状态：显示 "Connect" 按钮
- [ ] 点击弹出钱包选择器
- [ ] 已连接状态：显示缩写地址 (0x1234...5678)
- [ ] 支持 Solana 钱包 (Phantom, Solflare)

**验收标准**:
```gherkin
Feature: 钱包连接
  Scenario: 连接钱包
    Given 用户未连接钱包
    When 用户点击 "Connect" 按钮
    Then 应弹出钱包选择器
    When 用户选择 Phantom 钱包并确认
    Then 按钮应显示用户地址缩写
```

---

### 2.6 公告栏 (Announcement)

**功能要求**:
- [ ] 固定在页面顶部
- [ ] 显示推广信息
- [ ] 包含可点击链接

---

## 3. 非功能需求

### 3.1 性能要求

| 指标 | 目标值 |
|------|--------|
| First Contentful Paint (FCP) | < 1.5s |
| Largest Contentful Paint (LCP) | < 2.5s |
| Time to Interactive (TTI) | < 3.5s |
| Cumulative Layout Shift (CLS) | < 0.1 |

### 3.2 响应式设计

| 断点 | 布局变化 |
|------|----------|
| Desktop (>1024px) | 完整侧边栏 + 多列网格 |
| Tablet (768-1024px) | 侧边栏可折叠 + 2列网格 |
| Mobile (<768px) | 底部导航 + 单列 + 表格横向滚动 |

### 3.3 浏览器兼容性

- Chrome >= 90
- Firefox >= 90
- Safari >= 14
- Edge >= 90

### 3.4 无障碍要求

- WCAG 2.1 AA 级别
- 所有交互元素支持键盘导航
- 图片和图标提供替代文本
- 颜色对比度 >= 4.5:1

## 4. 设计规范

### 4.1 颜色系统

| 名称 | 色值 | 用途 |
|------|------|------|
| Primary (Crimson) | #E40F3A | 主要按钮、强调 |
| Secondary (Green) | #00FF88 | 成功、正向变化 |
| Warning (Yellow) | #FFD93D | 警告、开发中状态 |
| Danger (Red) | #FF4757 | 错误、负向变化 |
| Info (Purple) | #7C3AED | 信息、新兴标签 |
| Background Primary | #000000 | 主背景 |
| Background Secondary | #0D0D0D | 卡片背景 |
| Background Tertiary | #1A1A1A | 输入框、hover |
| Text Primary | #FFFFFF | 主要文字 |
| Text Secondary | #A0A0A0 | 次要文字 |
| Text Muted | #6B7280 | 辅助文字 |
| Border | rgba(255,255,255,0.08) | 边框 |

### 4.2 字体

| 类型 | 字体 | 用途 |
|------|------|------|
| Sans | Inter | UI 文字、标题 |
| Mono | JetBrains Mono | 数据、代码、价格 |

### 4.3 间距

| Token | 值 | 用途 |
|-------|-----|------|
| space-1 | 4px | 内联元素 |
| space-2 | 8px | 紧凑间距 |
| space-3 | 12px | 小间距 |
| space-4 | 16px | 标准间距 |
| space-5 | 24px | 大间距 |
| space-6 | 32px | 区块间距 |
| space-8 | 48px | 主要区块 |

### 4.4 圆角

| Token | 值 | 用途 |
|-------|-----|------|
| radius-sm | 4px | 小元素 |
| radius-md | 8px | 按钮、输入框 |
| radius-lg | 12px | 卡片 |
| radius-full | 9999px | Pill、圆形 |

## 5. 用户流程

### 5.1 新用户引导流程

```
访问首页 → 浏览 Hero 介绍 → 点击 "I'm a Human"
    ↓
跳转市场页 → 浏览技能 → 点击卡片查看详情
    ↓
点击 "Connect" → 选择钱包 → 连接成功
    ↓
点击购买 → 确认交易 → 购买成功 → 下载技能
```

### 5.2 Agent 注册流程

```
访问首页 → 点击 "I'm an Agent" → 查看注册卡片
    ↓
选择注册方式 (clawhub/manual) → 复制指令
    ↓
发送给 Agent → Agent 访问链接 → Agent 注册
    ↓
用户收到认领链接 → Twitter 验证 → 认领成功
```

## 6. 后续版本规划

### 6.1 V1.1 - 创作者功能
- 技能上传和发布
- 创作者仪表盘
- 收益提现

### 6.2 V1.2 - 社区功能
- 技能评论和评分
- 创作者 AMA
- 人类讨论论坛

### 6.3 V2.0 - 高级功能
- 学习路径
- Agent 能力测试
- $CLAW 质押和治理
