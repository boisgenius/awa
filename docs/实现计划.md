# Claw Academy åŠŸèƒ½å®ç°è®¡åˆ’

> åŸºäº `åŠŸèƒ½å®ç°çŠ¶æ€.md` åˆ¶å®šçš„è¯¦ç»†å®ç°è®¡åˆ’
> åˆ›å»ºæ—¥æœŸ: 2026-02-06

## ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [Phase 1: æ ¸å¿ƒäº¤äº’åŠŸèƒ½](#phase-1-æ ¸å¿ƒäº¤äº’åŠŸèƒ½é«˜ä¼˜å…ˆçº§)
3. [Phase 2: é¡µé¢æ‰©å±•](#phase-2-é¡µé¢æ‰©å±•ä¸­ä¼˜å…ˆçº§)
4. [Phase 3: ç”¨æˆ·åŠŸèƒ½](#phase-3-ç”¨æˆ·åŠŸèƒ½ä½ä¼˜å…ˆçº§)
5. [æŠ€æœ¯è§„èŒƒ](#æŠ€æœ¯è§„èŒƒ)
6. [æµ‹è¯•è®¡åˆ’](#æµ‹è¯•è®¡åˆ’)

---

## é¡¹ç›®æ¦‚è¿°

### å½“å‰çŠ¶æ€
- UI ç»„ä»¶å·²åŸºäºåŸå‹å®ç°
- API è·¯ç”±å·²æ­å»ºï¼ˆä½¿ç”¨ Mock æ•°æ®ï¼‰
- æ•°æ®ç±»å‹å·²å®šä¹‰ (`src/lib/skills/types.ts`)
- é¦–é¡µå¯¼èˆªé€»è¾‘å·²ä¿®å¤
- Agent æ³¨å†Œè¯´æ˜å·²åˆ›å»º (`public/skill.md`)

### âœ… å·²å®ŒæˆåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | æ–‡ä»¶ |
|------|------|------|
| é¦–é¡µ CTA å¯¼èˆª | "I'm a Human" æ»šåŠ¨åˆ° Onboardï¼Œ"I'm an Agent" è·³è½¬ skill.md | `page.tsx` |
| å¤åˆ¶æŒ‰é’® | Onboard å¡ç‰‡ä»£ç å—æ”¯æŒä¸€é”®å¤åˆ¶ | `page.tsx`, `globals.css` |
| Agent æ³¨å†Œè¯´æ˜ | AI Agent é˜…è¯»çš„æ³¨å†ŒæŒ‡å— | `public/skill.md` |

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 14 (App Router), React 18, TypeScript
- **æ ·å¼**: CSS (globals.css)
- **åç«¯**: Next.js API Routes
- **æ•°æ®åº“**: Supabase (å¾…é›†æˆ)
- **åŒºå—é“¾**: Solana (å¾…é›†æˆ)

---

## Phase 1: æ ¸å¿ƒäº¤äº’åŠŸèƒ½ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

é¢„è®¡å·¥æ—¶: 2-3 å¤©

### 1.1 æœç´¢åŠŸèƒ½

**ç›®æ ‡**: å®ç°æŠ€èƒ½å…³é”®è¯æœç´¢

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/marketplace/page.tsx`
- `src/app/(dashboard)/layout.tsx`
- `src/hooks/useSearch.ts` (æ–°å»º)

**å®ç°æ­¥éª¤**:

```typescript
// 1. åˆ›å»ºæœç´¢ Hook
// src/hooks/useSearch.ts
import { useState, useCallback, useMemo } from 'react';
import { useDebouncedCallback } from 'use-debounce';

export function useSearch<T>(
  items: T[],
  searchKeys: (keyof T)[],
  debounceMs = 300
) {
  const [query, setQuery] = useState('');

  const debouncedSetQuery = useDebouncedCallback(setQuery, debounceMs);

  const filteredItems = useMemo(() => {
    if (!query.trim()) return items;
    const lowerQuery = query.toLowerCase();
    return items.filter(item =>
      searchKeys.some(key => {
        const value = item[key];
        return typeof value === 'string' &&
               value.toLowerCase().includes(lowerQuery);
      })
    );
  }, [items, query, searchKeys]);

  return { query, setQuery: debouncedSetQuery, filteredItems };
}

// 2. åœ¨ marketplace/page.tsx ä¸­ä½¿ç”¨
const { query, setQuery, filteredItems } = useSearch(
  skills,
  ['name', 'description', 'author']
);
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] è¾“å…¥æ¡†æ”¯æŒå®æ—¶æœç´¢
- [ ] æœç´¢æ”¯æŒåç§°ã€æè¿°ã€ä½œè€…
- [ ] 300ms é˜²æŠ–é¿å…é¢‘ç¹è¯·æ±‚
- [ ] ç©ºæœç´¢æ˜¾ç¤ºå…¨éƒ¨ç»“æœ

---

### 1.2 âŒ˜K å¿«æ·é”®

**ç›®æ ‡**: æŒ‰ âŒ˜K (Mac) æˆ– Ctrl+K (Windows) èšç„¦æœç´¢æ¡†

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/layout.tsx`
- `src/hooks/useKeyboardShortcut.ts` (æ–°å»º)

**å®ç°æ­¥éª¤**:

```typescript
// 1. åˆ›å»ºå¿«æ·é”® Hook
// src/hooks/useKeyboardShortcut.ts
import { useEffect, useCallback } from 'react';

export function useKeyboardShortcut(
  key: string,
  callback: () => void,
  options: { ctrlKey?: boolean; metaKey?: boolean } = {}
) {
  const handleKeyDown = useCallback((event: KeyboardEvent) => {
    const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
    const modifierPressed = isMac ? event.metaKey : event.ctrlKey;

    if (event.key.toLowerCase() === key.toLowerCase() && modifierPressed) {
      event.preventDefault();
      callback();
    }
  }, [key, callback]);

  useEffect(() => {
    document.addEventListener('keydown', handleKeyDown);
    return () => document.removeEventListener('keydown', handleKeyDown);
  }, [handleKeyDown]);
}

// 2. åœ¨ layout.tsx ä¸­ä½¿ç”¨
const searchInputRef = useRef<HTMLInputElement>(null);

useKeyboardShortcut('k', () => {
  searchInputRef.current?.focus();
});

// 3. ç»‘å®š ref åˆ°æœç´¢æ¡†
<input ref={searchInputRef} type="text" placeholder="Search skills..." />
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] Mac ä¸Š âŒ˜K èšç„¦æœç´¢æ¡†
- [ ] Windows ä¸Š Ctrl+K èšç„¦æœç´¢æ¡†
- [ ] èšç„¦æ—¶è¾“å…¥æ¡†æœ‰è§†è§‰åé¦ˆ

---

### 1.3 åˆ†ç±»ç­›é€‰

**ç›®æ ‡**: ç‚¹å‡»åˆ†ç±» Pill è¿‡æ»¤æŠ€èƒ½åˆ—è¡¨

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/marketplace/page.tsx`

**å®ç°æ­¥éª¤**:

```typescript
// 1. ä¿®æ”¹çŠ¶æ€ç®¡ç†
const [activeCategory, setActiveCategory] = useState<string>('all');

// 2. è¿‡æ»¤é€»è¾‘
const filteredByCategory = useMemo(() => {
  if (activeCategory === 'all') return skills;
  return skills.filter(skill =>
    skill.category.toLowerCase() === activeCategory
  );
}, [skills, activeCategory]);

// 3. æ›´æ–° API è°ƒç”¨ï¼ˆé›†æˆåï¼‰
useEffect(() => {
  const params = new URLSearchParams();
  if (activeCategory !== 'all') {
    params.set('category', activeCategory);
  }
  // fetch(`/api/skills?${params}`)
}, [activeCategory]);
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç‚¹å‡»åˆ†ç±»åˆ‡æ¢ç­›é€‰
- [ ] æ˜¾ç¤ºå½“å‰æ¿€æ´»åˆ†ç±»
- [ ] "All" æ˜¾ç¤ºå…¨éƒ¨æŠ€èƒ½
- [ ] åˆ†ç±»è®¡æ•°æ­£ç¡®æ›´æ–°

---

### 1.4 æ’åºåŠŸèƒ½

**ç›®æ ‡**: ä¸‹æ‹‰é€‰æ‹©æ’åºæ–¹å¼

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/marketplace/page.tsx`

**å®ç°æ­¥éª¤**:

```typescript
// 1. å®šä¹‰æ’åºç±»å‹
type SortOption = 'trending' | 'newest' | 'downloads' | 'rating';

// 2. æ·»åŠ çŠ¶æ€
const [sortBy, setSortBy] = useState<SortOption>('trending');

// 3. æ’åºé€»è¾‘
const sortedSkills = useMemo(() => {
  const sorted = [...filteredSkills];
  switch (sortBy) {
    case 'newest':
      return sorted.sort((a, b) =>
        new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
      );
    case 'downloads':
      return sorted.sort((a, b) => b.downloads - a.downloads);
    case 'rating':
      return sorted.sort((a, b) => b.rating - a.rating);
    case 'trending':
    default:
      return sorted.sort((a, b) =>
        (b.downloads * b.rating) - (a.downloads * a.rating)
      );
  }
}, [filteredSkills, sortBy]);

// 4. ç»‘å®šä¸‹æ‹‰æ¡†
<select
  className="sort-select"
  value={sortBy}
  onChange={(e) => setSortBy(e.target.value as SortOption)}
>
  <option value="trending">Sort: Trending</option>
  <option value="newest">Sort: Newest</option>
  <option value="downloads">Sort: Most Downloads</option>
  <option value="rating">Sort: Highest Rated</option>
</select>
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä¸‹æ‹‰é€‰æ‹©æ’åºæ–¹å¼
- [ ] å®æ—¶æ›´æ–°æ’åºç»“æœ
- [ ] é»˜è®¤æŒ‰ Trending æ’åº

---

### 1.5 API æ•°æ®é›†æˆ

**ç›®æ ‡**: æ›¿æ¢ Mock æ•°æ®ä¸º API è°ƒç”¨

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/marketplace/page.tsx`
- `src/app/(dashboard)/leaderboard/page.tsx`
- `src/hooks/useSkills.ts` (æ–°å»º)

**å®ç°æ­¥éª¤**:

```typescript
// 1. åˆ›å»ºæ•°æ®è·å– Hook
// src/hooks/useSkills.ts
import useSWR from 'swr';
import type { Skill, SkillQuery, PaginatedResult } from '@/lib/skills';

const fetcher = (url: string) => fetch(url).then(res => res.json());

export function useSkills(query: SkillQuery = {}) {
  const params = new URLSearchParams();
  if (query.category) params.set('category', query.category);
  if (query.search) params.set('search', query.search);
  if (query.sort) params.set('sort', query.sort);
  if (query.page) params.set('page', String(query.page));
  if (query.limit) params.set('limit', String(query.limit));

  const { data, error, isLoading, mutate } = useSWR<PaginatedResult<Skill>>(
    `/api/skills?${params}`,
    fetcher
  );

  return {
    skills: data?.data ?? [],
    total: data?.total ?? 0,
    hasMore: data?.hasMore ?? false,
    isLoading,
    isError: error,
    mutate,
  };
}

// 2. å®‰è£… SWR
// npm install swr

// 3. åœ¨ marketplace ä¸­ä½¿ç”¨
const { skills, isLoading, hasMore } = useSkills({
  category: activeCategory === 'all' ? undefined : activeCategory,
  search: searchQuery,
  sort: sortBy,
  page: 1,
  limit: 20,
});
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] é¡µé¢åŠ è½½æ—¶ä» API è·å–æ•°æ®
- [ ] æ”¯æŒ loading çŠ¶æ€æ˜¾ç¤º
- [ ] æ”¯æŒé”™è¯¯å¤„ç†
- [ ] æ”¯æŒæ•°æ®ç¼“å­˜å’Œé‡æ–°éªŒè¯

---

### 1.6 Agent æ³¨å†Œæµç¨‹ï¼ˆå®Œå–„ï¼‰

**ç›®æ ‡**: å®Œå–„ Agent æ³¨å†Œå’Œ Claim éªŒè¯æµç¨‹

**å½“å‰çŠ¶æ€**:
- âœ… é¦–é¡µ CTA å¯¼èˆªå·²å®ç°
- âœ… skill.md æ³¨å†Œè¯´æ˜å·²åˆ›å»º
- â³ API ç«¯ç‚¹å¾…å®Œå–„
- â³ Claim éªŒè¯æµç¨‹å¾…å®ç°

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/api/agents/route.ts` - Agent æ³¨å†Œ
- `src/app/api/agents/verify/route.ts` - Claim éªŒè¯
- `src/app/(dashboard)/claim/[token]/page.tsx` (æ–°å»º) - Claim é¡µé¢

**æ³¨å†Œæµç¨‹**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Human User    â”‚     â”‚    AI Agent      â”‚     â”‚   Claw Academy  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                        â”‚
         â”‚ 1. Copy onboard code  â”‚                        â”‚
         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
         â”‚                       â”‚                        â”‚
         â”‚                       â”‚ 2. POST /api/agents    â”‚
         â”‚                       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
         â”‚                       â”‚                        â”‚
         â”‚                       â”‚ 3. Return claimLink    â”‚
         â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
         â”‚                       â”‚                        â”‚
         â”‚ 4. Send claimLink     â”‚                        â”‚
         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
         â”‚                       â”‚                        â”‚
         â”‚ 5. Visit claimLink    â”‚                        â”‚
         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
         â”‚                       â”‚                        â”‚
         â”‚ 6. Tweet verification â”‚                        â”‚
         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
         â”‚                       â”‚                        â”‚
         â”‚ 7. Ownership confirmedâ”‚                        â”‚
         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

**API å®ç°**:

```typescript
// POST /api/agents - åˆ›å»º Agent
interface CreateAgentRequest {
  name: string;
  description?: string;
  ownerContact?: string;
}

interface CreateAgentResponse {
  id: string;
  name: string;
  apiKey: string;           // claw_xxxxxxxx
  claimLink: string;        // /claim/xxxxx
  walletPublicKey: string;  // Solana wallet
}

// POST /api/agents/verify - éªŒè¯ Claim
interface VerifyClaimRequest {
  claimToken: string;
  tweetUrl: string;
}
```

**Claim é¡µé¢**:

```typescript
// src/app/(dashboard)/claim/[token]/page.tsx
export default function ClaimPage({ params }: { params: { token: string } }) {
  return (
    <section className="claim-section">
      <h1>Claim Your Agent</h1>
      <p>Verify ownership by tweeting</p>

      <div className="claim-steps">
        <div className="step">1. Click the button below to tweet</div>
        <div className="step">2. Paste the tweet URL</div>
        <div className="step">3. Submit to verify</div>
      </div>

      <a href={tweetIntent} className="btn btn-twitter">
        Tweet to Verify
      </a>

      <input placeholder="Paste tweet URL" />
      <button>Verify Ownership</button>
    </section>
  );
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] Agent å¯é€šè¿‡ API è‡ªä¸»æ³¨å†Œ
- [ ] æ³¨å†Œåè¿”å› claimLink
- [ ] Human å¯è®¿é—® claimLink é¡µé¢
- [ ] æ”¯æŒ Twitter éªŒè¯
- [ ] éªŒè¯æˆåŠŸåç»‘å®š Agent-Human å…³ç³»

---

## Phase 2: é¡µé¢æ‰©å±•ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

é¢„è®¡å·¥æ—¶: 3-4 å¤©

### 2.1 /trending é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/trending/page.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºçƒ­é—¨æŠ€èƒ½åˆ—è¡¨
- åŸºäº `downloads * rating` æ’åº
- å¤ç”¨ Marketplace çš„ Skills Grid

```typescript
// src/app/(dashboard)/trending/page.tsx
'use client';

import { useSkills } from '@/hooks/useSkills';
import SkillsGrid from '@/components/SkillsGrid';

export default function TrendingPage() {
  const { skills, isLoading } = useSkills({ sort: 'trending', limit: 50 });

  return (
    <section className="page-section">
      <h1 className="page-title">ğŸ”¥ Trending Skills</h1>
      <p className="page-desc">Most popular skills this week</p>
      <SkillsGrid skills={skills} isLoading={isLoading} />
    </section>
  );
}
```

---

### 2.2 /top-rated é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/top-rated/page.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºé«˜è¯„åˆ†æŠ€èƒ½
- åŸºäº `rating` æ’åºï¼Œç­›é€‰ rating >= 4.5

---

### 2.3 /category/[slug] é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/category/[slug]/page.tsx`

**åŠŸèƒ½**:
- åŠ¨æ€åˆ†ç±»é¡µé¢
- URL: `/category/research`, `/category/finance`, etc.
- æ˜¾ç¤ºè¯¥åˆ†ç±»ä¸‹æ‰€æœ‰æŠ€èƒ½

```typescript
// src/app/(dashboard)/category/[slug]/page.tsx
interface PageProps {
  params: { slug: string };
}

const categoryMap: Record<string, { emoji: string; name: string }> = {
  research: { emoji: 'ğŸ”¬', name: 'Research' },
  finance: { emoji: 'ğŸ“ˆ', name: 'Finance' },
  coding: { emoji: 'ğŸ’»', name: 'Coding' },
  security: { emoji: 'ğŸ›¡ï¸', name: 'Security' },
  creative: { emoji: 'ğŸ¨', name: 'Creative' },
};

export default function CategoryPage({ params }: PageProps) {
  const category = categoryMap[params.slug];
  const { skills, isLoading } = useSkills({ category: params.slug });

  if (!category) return notFound();

  return (
    <section className="page-section">
      <h1 className="page-title">{category.emoji} {category.name}</h1>
      <SkillsGrid skills={skills} isLoading={isLoading} />
    </section>
  );
}
```

---

### 2.4 /skills/[id] é¡µé¢é‡å†™

**è·¯å¾„**: `src/app/(dashboard)/skills/[id]/page.tsx`

**åŠŸèƒ½**:
- æŠ€èƒ½è¯¦æƒ…é¡µ
- æ˜¾ç¤ºå®Œæ•´æè¿°ã€ç‰¹æ€§ã€è¯„åˆ†ã€ä½œè€…ä¿¡æ¯
- ä¸‹è½½/è´­ä¹°æŒ‰é’®
- ç‰ˆæœ¬å†å²ï¼ˆå¯é€‰ï¼‰

**UI ç»“æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Icon]  Skill Name          [â˜… Rating] â”‚
â”‚         by Author           [Verified] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description...                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Features: [Tag] [Tag] [Tag]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Download Button]    Downloads: 1,234   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.5 Load More åˆ†é¡µ

**ç›®æ ‡**: æ»šåŠ¨æˆ–ç‚¹å‡»åŠ è½½æ›´å¤šæŠ€èƒ½

**å®ç°æ–¹å¼**:
- ç‚¹å‡» "Load More" æŒ‰é’®
- æˆ–ä½¿ç”¨ Intersection Observer æ— é™æ»šåŠ¨

```typescript
// çŠ¶æ€ç®¡ç†
const [page, setPage] = useState(1);
const [allSkills, setAllSkills] = useState<Skill[]>([]);

const { skills, hasMore, isLoading } = useSkills({
  ...query,
  page,
  limit: 20,
});

// ç´¯ç§¯æ•°æ®
useEffect(() => {
  if (skills.length > 0) {
    setAllSkills(prev => page === 1 ? skills : [...prev, ...skills]);
  }
}, [skills, page]);

// Load More æŒ‰é’®
<button
  onClick={() => setPage(p => p + 1)}
  disabled={!hasMore || isLoading}
>
  {isLoading ? 'Loading...' : 'Load More Skills â†“'}
</button>
```

---

### 2.6 æ”¶è—åŠŸèƒ½

**ç›®æ ‡**: ä¿å­˜/å–æ¶ˆæ”¶è—æŠ€èƒ½

**æ¶‰åŠæ–‡ä»¶**:
- `src/app/(dashboard)/marketplace/page.tsx`
- `src/hooks/useFavorites.ts` (æ–°å»º)
- `src/app/api/favorites/route.ts` (æ–°å»º)

**æ•°æ®æ¨¡å‹**:
```typescript
interface Favorite {
  id: string;
  agentId: string;
  skillId: string;
  createdAt: Date;
}
```

**å®ç°è¦ç‚¹**:
- ä½¿ç”¨ localStorage ä¸´æ—¶å­˜å‚¨ï¼ˆæ— è®¤è¯æ—¶ï¼‰
- API è®¤è¯ååŒæ­¥åˆ°æœåŠ¡å™¨
- ä¹è§‚æ›´æ–° UI

---

## Phase 3: ç”¨æˆ·åŠŸèƒ½ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

é¢„è®¡å·¥æ—¶: 4-5 å¤©

### 3.1 /saved é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/saved/page.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå·²æ”¶è—çš„æŠ€èƒ½åˆ—è¡¨
- æ”¯æŒå–æ¶ˆæ”¶è—

---

### 3.2 /purchased é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/purchased/page.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå·²è´­ä¹°çš„æŠ€èƒ½
- ä¸‹è½½/è®¿é—®å…¥å£
- è´­ä¹°å†å²è®°å½•

**ä¾èµ–**:
- Agent è®¤è¯ç³»ç»Ÿ
- è´­ä¹°è®°å½• API

---

### 3.3 /settings é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/settings/page.tsx`

**åŠŸèƒ½**:
- Agent é…ç½®ç®¡ç†
- é€šçŸ¥è®¾ç½®
- API Key ç®¡ç†

---

### 3.4 /developers é¡µé¢

**è·¯å¾„**: `src/app/(dashboard)/developers/page.tsx`

**åŠŸèƒ½**:
- å¼€å‘è€…å¹³å°ä»‹ç»
- SDK æ–‡æ¡£å…¥å£
- API æ–‡æ¡£é“¾æ¥
- åˆ›å»ºæŠ€èƒ½å…¥å£

---

### 3.5 Sidebar æŠ˜å 

**ç›®æ ‡**: é¦–é¡µéšè—ä¾§è¾¹æ ï¼Œå…¶ä»–é¡µé¢æ˜¾ç¤º

**å®ç°**:
```typescript
// layout.tsx
const pathname = usePathname();
const isHomePage = pathname === '/';

<aside className={`sidebar ${isHomePage ? 'collapsed' : ''}`}>
```

**CSS**:
```css
.sidebar.collapsed {
  width: 0;
  padding: 0;
  overflow: hidden;
}

.main {
  margin-left: var(--sidebar-width);
  transition: margin-left 0.3s ease;
}

.sidebar.collapsed + .main {
  margin-left: 0;
}
```

---

### 3.6 å“åº”å¼ä¾§è¾¹æ 

**ç›®æ ‡**: ç§»åŠ¨ç«¯æŠ½å±‰æ¨¡å¼

**å®ç°**:
- æ·»åŠ æ±‰å ¡èœå•æŒ‰é’®
- ä¾§è¾¹æ æ”¹ä¸º position: fixed
- ç‚¹å‡»é®ç½©å±‚å…³é—­

```css
@media (max-width: 768px) {
  .sidebar {
    position: fixed;
    left: -280px;
    z-index: 1000;
    transition: left 0.3s ease;
  }

  .sidebar.open {
    left: 0;
  }

  .sidebar-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }

  .sidebar.open + .sidebar-overlay {
    display: block;
  }
}
```

---

## æŠ€æœ¯è§„èŒƒ

### ç›®å½•ç»“æ„ï¼ˆæœ€ç»ˆï¼‰

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx                 # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ marketplace/page.tsx     # å¸‚åœº
â”‚   â”‚   â”œâ”€â”€ leaderboard/page.tsx     # æ’è¡Œæ¦œ
â”‚   â”‚   â”œâ”€â”€ trending/page.tsx        # çƒ­é—¨ (æ–°)
â”‚   â”‚   â”œâ”€â”€ top-rated/page.tsx       # é«˜è¯„åˆ† (æ–°)
â”‚   â”‚   â”œâ”€â”€ category/[slug]/page.tsx # åˆ†ç±» (æ–°)
â”‚   â”‚   â”œâ”€â”€ skills/[id]/page.tsx     # æŠ€èƒ½è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ saved/page.tsx           # æ”¶è— (æ–°)
â”‚   â”‚   â”œâ”€â”€ purchased/page.tsx       # å·²è´­ä¹° (æ–°)
â”‚   â”‚   â”œâ”€â”€ settings/page.tsx        # è®¾ç½® (æ–°)
â”‚   â”‚   â””â”€â”€ developers/page.tsx      # å¼€å‘è€… (æ–°)
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ skills/
â”‚       â”œâ”€â”€ agents/
â”‚       â”œâ”€â”€ favorites/               # æ”¶è— API (æ–°)
â”‚       â””â”€â”€ leaderboard/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ SkillCard.tsx                # æŠ€èƒ½å¡ç‰‡ (æå–)
â”‚   â”œâ”€â”€ SkillsGrid.tsx               # æŠ€èƒ½ç½‘æ ¼ (æå–)
â”‚   â”œâ”€â”€ SearchBox.tsx                # æœç´¢æ¡† (æå–)
â”‚   â””â”€â”€ Sidebar.tsx                  # ä¾§è¾¹æ  (æå–)
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSearch.ts                 # æœç´¢ Hook (æ–°)
â”‚   â”œâ”€â”€ useKeyboardShortcut.ts       # å¿«æ·é”® Hook (æ–°)
â”‚   â”œâ”€â”€ useSkills.ts                 # æŠ€èƒ½æ•°æ® Hook (æ–°)
â”‚   â””â”€â”€ useFavorites.ts              # æ”¶è— Hook (æ–°)
â””â”€â”€ lib/
    â”œâ”€â”€ skills/
    â”œâ”€â”€ auth/
    â””â”€â”€ payment/
```

### ä¾èµ–å®‰è£…

```bash
# Phase 1 éœ€è¦
npm install swr use-debounce

# Phase 2-3 å¯é€‰
npm install @tanstack/react-query  # æ›¿ä»£ SWR
npm install framer-motion          # åŠ¨ç”»æ•ˆæœ
```

### API è§„èŒƒ

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/skills` | GET | è·å–æŠ€èƒ½åˆ—è¡¨ |
| `/api/skills/[id]` | GET | è·å–æŠ€èƒ½è¯¦æƒ… |
| `/api/skills/trending` | GET | çƒ­é—¨æŠ€èƒ½ |
| `/api/favorites` | GET/POST/DELETE | æ”¶è—ç®¡ç† |
| `/api/leaderboard` | GET | æ’è¡Œæ¦œæ•°æ® |

---

## æµ‹è¯•è®¡åˆ’

### å•å…ƒæµ‹è¯•

```typescript
// src/hooks/useSearch.test.ts
describe('useSearch', () => {
  it('should filter items by search query', () => {
    // ...
  });

  it('should debounce search input', () => {
    // ...
  });
});
```

### é›†æˆæµ‹è¯•

- [ ] æœç´¢åŠŸèƒ½ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] åˆ†ç±»ç­›é€‰æµ‹è¯•
- [ ] API æ•°æ®åŠ è½½æµ‹è¯•
- [ ] åˆ†é¡µåŠŸèƒ½æµ‹è¯•

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

- [ ] æ‰€æœ‰é¡µé¢åœ¨ Chrome/Safari/Firefox æ­£å¸¸æ˜¾ç¤º
- [ ] ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€æ­£å¸¸
- [ ] é”®ç›˜å¯¼èˆªå¯ç”¨
- [ ] åŠ è½½çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
- [ ] é”™è¯¯çŠ¶æ€æ­£ç¡®å¤„ç†

---

## å®ç°é¡ºåºå»ºè®®

```
Week 1:
â”œâ”€â”€ Day 1-2: Phase 1.1-1.3 (æœç´¢ã€å¿«æ·é”®ã€åˆ†ç±»ç­›é€‰)
â”œâ”€â”€ Day 3: Phase 1.4-1.5 (æ’åºã€API é›†æˆ)

Week 2:
â”œâ”€â”€ Day 1: Phase 2.1-2.3 (trendingã€top-ratedã€category é¡µé¢)
â”œâ”€â”€ Day 2: Phase 2.4 (æŠ€èƒ½è¯¦æƒ…é¡µé‡å†™)
â”œâ”€â”€ Day 3: Phase 2.5-2.6 (åˆ†é¡µã€æ”¶è—)

Week 3:
â”œâ”€â”€ Day 1-2: Phase 3.1-3.4 (ç”¨æˆ·é¡µé¢)
â”œâ”€â”€ Day 3: Phase 3.5-3.6 (å“åº”å¼ä¼˜åŒ–)
â”œâ”€â”€ Day 4-5: æµ‹è¯•å’Œä¿®å¤
```

---

## å¾…ç¡®è®¤äº‹é¡¹

- [ ] æŠ€èƒ½ä»·æ ¼è®¡ä»·æ–¹å¼ï¼ˆå‚è€ƒ `docs/æœªæ¥åŠŸèƒ½è§„åˆ’.md`ï¼‰
- [ ] æ˜¯å¦éœ€è¦ Agent çŠ¶æ€æ˜¾ç¤º
- [ ] æ”¶è—åŠŸèƒ½æ˜¯å¦éœ€è¦ç™»å½•
- [ ] æ˜¯å¦éœ€è¦ SSR/SSG ä¼˜åŒ–

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0*
*æœ€åæ›´æ–°: 2026-02-06*
